import {
  createBaseVNode,
  createElementBlock,
  h,
  normalizeClass,
  openBlock,
  render,
  toDisplayString
} from "./chunk-NFIYLJUL.js";

// node_modules/@k90mirzaei/vue-toast/dist/index.js
var a = class {
  constructor(e, t) {
    this.startedAt = Date.now(), this.callback = e, this.delay = t, this.timer = setTimeout(e, t);
  }
  pause() {
    this.stop(), this.delay -= Date.now() - this.startedAt;
  }
  resume() {
    this.stop(), this.startedAt = Date.now(), this.timer = setTimeout(this.callback, this.delay);
  }
  stop() {
    clearTimeout(this.timer);
  }
};
var u = new class {
  constructor() {
    this.queue = {};
  }
  $on(e, t) {
    this.queue[e] = this.queue[e] || [], this.queue[e].push(t);
  }
  $off(e, t) {
    if (this.queue[e]) {
      for (var s = 0; s < this.queue[e].length; s++)
        if (this.queue[e][s] === t) {
          this.queue[e].splice(s, 1);
          break;
        }
    }
  }
  $emit(e, t) {
    this.queue[e] && this.queue[e].forEach(function(e2) {
      e2(t);
    });
  }
}();
var l = () => "undefined" != typeof document && document.createElement("div");
var h2 = (e) => {
  void 0 !== e.remove ? e.remove() : e.parentNode.removeChild(e);
};
var d = (s, { props: r, children: i, element: o, app: n } = {}) => {
  let a2 = o || l(), u2 = h(s, r, i);
  n && n._context && (u2.appContext = n._context), render(u2, a2);
  return { vNode: u2, destroy: () => {
    a2 && render(null, a2), a2 = null, u2 = null;
  }, el: a2 };
};
var c = { name: "toast", props: { message: { type: String, required: true }, type: { type: String, default: "default" }, delay: { type: Number, default: 4e3 }, maxToasts: { type: [Number, Boolean], default: 5 } }, data: () => ({ parent: null, timer: null, queueTimer: null, transition: "toast-in" }), computed: { animation() {
  return " animation-" + this.transition;
}, style: () => "flex self-end overflow-hidden rounded-xl cursor-pointer shadow-xl mb-5 pointer-events-auto", shade() {
  switch (this.type) {
    case "info":
      return " bg-blue-500 border-2 border-blue-600 text-white";
    case "warning":
      return " bg-orange-600 border-2 border-orange-600 text-white";
    case "success":
      return " bg-green-600 border-2 border-green-600 text-white";
    case "error":
      return " bg-red-500 border-2 border-red-600 text-white";
    default:
      return " bg-gray-50 border-2 border-gray-200";
  }
} }, beforeMount() {
  this.createParent(), this.setupContainer();
}, mounted() {
  this.notify(), u.$on("toast-clean", this.close);
}, methods: { createParent() {
  this.parent = document.getElementById("_toast_container"), this.parent || (this.parent = document.createElement("div"), this.parent.id = "_toast_container", this.parent.className = "fixed flex flex-col-reverse w-full h-full inset-0 p-10 z-50 pointer-events-none overflow-hidden");
}, setupContainer() {
  document.body.appendChild(this.parent);
}, shouldNotify() {
  return console.log(this.parent.childElementCount), false !== this.maxToasts ? this.maxToasts <= this.parent.childElementCount : !this.maxToasts;
}, notify() {
  this.shouldNotify() ? this.queueTimer = setTimeout(this.notify, 250) : (this.parent.insertAdjacentElement("afterbegin", this.$el), this.timer = new a(this.close, this.delay));
}, click() {
  this.close();
}, toggleTimer(e) {
  this.timer && (e ? this.timer.pause() : this.timer.resume());
}, close() {
  this.timer && this.timer.stop(), clearTimeout(this.queueTimer), this.transition = "toast-out", setTimeout(() => {
    h2(this.$el);
  }, 250);
} }, beforeUnmount() {
  u.$off("toast-clear", this.close);
} };
var m = { class: "px-4 py-4 flex justify-between items-start text-lg" };
c.render = function(e, t, a2, u2, l2, h3) {
  return openBlock(), createElementBlock("div", { class: normalizeClass(h3.style + h3.shade + h3.animation), onClick: t[0] || (t[0] = (...e2) => h3.click && h3.click(...e2)), onMouseover: t[1] || (t[1] = (e2) => h3.toggleTimer(true)), onMouseleave: t[2] || (t[2] = (e2) => h3.toggleTimer(false)), role: "alert" }, [createBaseVNode("div", m, toDisplayString(a2.message), 1)], 34);
}, c.__file = "src/toast.vue";
var p = (e = {}) => ({ show: (t, s = {}) => d(c, { props: { ...e, ...{ message: t, ...s } } }), success(e2, t = {}) {
  return t.type = "success", this.show(e2, t);
}, error(e2, t = {}) {
  return t.type = "error", this.show(e2, t);
}, info(e2, t = {}) {
  return t.type = "info", this.show(e2, t);
}, warning(e2, t = {}) {
  return t.type = "warning", this.show(e2, t);
} });
c.install = (e, t = {}) => {
  let s = p(t);
  e.$toast = s, e.config.globalProperties.$toast = s;
};
export {
  c as default,
  p as service,
  c as toast
};
//# sourceMappingURL=@k90mirzaei_vue-toast.js.map
